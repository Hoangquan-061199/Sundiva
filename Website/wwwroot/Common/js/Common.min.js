function DateVi(n){$(n).datetimepicker({format:"d/m/Y",timepicker:!1})}function enterSubmit(n){var t=n+" input";$(t).keypress(function(t){t.which==13&&$(n).submit()})}function loadAjax(n,t){$(t).html("Đang tải dữ liệu...");$.ajax({url:encodeURI(n),cache:!1,type:"POST",success:function(n){$(t).html(n)}})}function loadAjaxAppend(n,t){$.ajax({url:encodeURI(n),cache:!1,type:"POST",success:function(n){n!=""&&$(t).append(n)}})}function initAjaxLoad(n,t,i){$.address.unbind().externalChange(function(r){var f=n,u=r.value;u.length>0&&(u=u.substring(1,u.length),f=f.indexOf("?")>0?f+"&"+u:f+"?"+u);$(t).html("Đang tải dữ liệu...");$.post(f,function(n){$(t).html(n)}).complete(function(){i&&typeof i=="function"&&i()})})}function Post(n,t){$.post(n,$(t).serialize(),function(n){n.errors?swal({title:"",text:n.message,type:"success",showConfirmButton:!0,animation:!1}):swal({title:"",text:n.message,type:"success",showConfirmButton:!0,animation:!1,timer:2e3},function(){n.url!=null?window.location.href=n.url:window.location.reload()})})}function formatPriceChange(){$(".formatPrice").change(function(){var t=$(this),n=$(this).attr("unit"),i,r;n==undefined&&(n="");i=Number(t.val()).toLocaleString("en",{maximumSignificantDigits:21});$(this).parent().find(".lbFormatPrice").length!=0&&(r=$(this).parent().find(".lbFormatPrice"),r.remove());t.before("<lable class='lbFormatPrice' style='color:#ed1f24'>"+i+" "+n+" <\/label>")})}function loadingBtn(){$(".loading_btn").click(function(){$("body").loading({stoppable:!1,message:'<img src="Images/ajax-loading-gif-3.gif" alt=""><p>Loadding<\/p>',theme:"dark"})})}function paging(){$(".pagingData").each(function(){var n=$(this).attr("href"),t;n.indexOf("http")>-1||(t=n.replaceAll("#page=",""),n=replaceUrlParam(window.location.href,"page",t),$(this).attr("href",n))})}function showHiden(){$(".showHiden").click(function(){var t=$(this).parents(".showHidenParent").data("name"),n;$(this).parents('.showHidenParent[data-name="'+t+'"]').addClass("hidden");n=$(this).data("open");$("."+n).removeClass("hidden")});$(".btnResetShowHide").click(function(){window.location.reload()})}function select2(){$(".js-select2").select2({placeholder:"Vui lòng chọn",allowClear:!0})}function viewYoutube(){$("a.videoYoutube").click(function(n){var i,r,t;try{i=$(this).attr("href");$(this).attr("href","javascript:void(0)");try{$("iframe.videoYoutube").each(function(){var r=$(this),u=r[0].outerHTML,n=u.match(/^.*((youtube\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/),f=Math.floor(Math.random()*10+1),t,i;n&&n[7].length==11&&(t="https://img.youtube.com/vi/"+n[7]+"/0.jpg?v="+f,i='<a class="videoYoutube" href="https://www.youtube.com/watch?v='+n[7]+'" data-img="'+t+'">',i+=' <img src="'+t+'" alt="" style="opacity: 1;"><\/a><script> viewYoutube();<\/script>',r.parents(".video").html(i))})}catch(o){}if(r=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,t=i.match(r),t&&t[7].length==11){var u="https://www.youtube.com/embed/"+t[7]+"?rel=0&controls=0&showinfo=0&autoplay=1",f=$(this).parents(".video").width(),e=$(this).parents(".video").height();$(this).parents(".video").html('<iframe class="videoYoutube" src="'+u+'" frameborder="0" width="'+f+'" height="'+e+'" allowfullscreen><\/iframe>')}}catch(s){}n.preventdefault()})}function replaceUrlParam(n,t,i){i==null&&(i="");var r=new RegExp("\\b("+t+"=).*?(&|$)");return n.search(r)>=0?n.replace(r,"$1"+i+"$2"):(n=n.replace(/\?$/,""),n+(n.indexOf("?")>0?"&":"?")+t+"="+i)}function loadEmoticonize(){$(".content_chatmess").each(function(){$(this).html($(this).html()).emoticonize(!0).show()});$("br").remove()}function removeObject(){$(".removeObject").click(function(){var n=$(this);swal({title:"",text:"Bạn chắc chắn muốn xóa?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"OK",closeOnConfirm:!1},function(t){t&&n.parents(".removeParent").remove();swal.close()})})}function formatPrice(n){return Number(n).toLocaleString("en",{maximumSignificantDigits:21})}function initAjaxLoad(n,t){var i="Đang tải dữ liệu...";$.address.init().change(function(r){var f=n,u=r.value;u.length>0&&(u=u.substring(1,u.length),f=f.indexOf("?")>0?f+"&"+u:f+"?"+u);$(t).html(i);$.post(f,function(n){$(t).html(n)})})}function removeTag(n,t,i){var u=$("#"+t).val(),r;u!=""&&(r=u.split(","),r.remove(n),$("#"+t).val(r.toString()));$("#"+i+" span[id='"+n+"']").parent().remove()}function initAutoComplete(n,t,i,r){$("#"+n).keypress(function(u){if(u.keyCode==13)return addValues(n,$(this).val(),t+"?do=Add&KeyID="+labelKey,labelKey),!1;$("#"+n).autocomplete({serviceUrl:t,minChars:1,maxHeight:400,width:500,onSelect:function(t){var f=$("#"+i).val(),u=[],e;f.length>0&&(u=f.split(","));u.push(t.IDs);$("#"+n).val("");$("#"+i).val(u.join(","));e="<li><span title="+t.value+" id="+t.IDs+">"+t.value+" "+t.code+'<\/span><a title="Xóa: '+t.value+'" href="javascript:removeTag('+t.IDs+",'"+i+"','"+r+'\');"><img border="0" src="/Content/Admin/Images/gridview/act_filedelete.png"><\/a><\/li>';$("#"+r).append(e)},transformResult:function(n){var t=JSON.parse(n);return{suggestions:$.map(t.Data,function(n){return n})}}})})}function ValidateRequired(n){for(var f,i=$(".required").toArray(),r,u,t=0;t<i.length;t++)if(r=i[t].value.trim(),u=i[t].title!=undefined&&i[t].title!=""?i[t].title:"Trường này",r=="")return f=noty({text:'<div class="activity-item"> '+u+" bắt buộc nhập.<\/div>",type:"error"}),$(n).attr("disabled",!1),!1;return!0}function isURL(n,t){var i=n.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/),r;i&&i[7].length==11&&(r="https://www.youtube.com/embed/"+i[7]+"?rel=0&controls=0&showinfo=0",t!=undefined&&t!=""?$(t).html('<iframe id="video-url" width="187" height="120" src="'+r+'" frameborder="0" allowfullscreen><\/iframe>'):$(this).html('<iframe id="video-url" width="187" height="120" src="'+r+'" frameborder="0" allowfullscreen><\/iframe>'))}function getValueFormMutilSelect(n){var t="",i;return $(n).find("input[type='checkbox']:checked, input[type='radio']:checked, input[type='text'],input[type='number'], input[type='hidden'], select").each(function(){i=$(this).attr("name");$(this).val()!=""&&$(this).val()!=""&&(t+="&"+i+"="+$(this).val())}),t!=""&&(t=t.substring(1)),t}function getValueMutilSelect(){var n="";return $.each($("select.mutil").multiSelect("getSelects"),function(t,i){n+=i+","}),n=n.length>0?n.substring(0,n.length-1):n}function copyText(n,t){var i=document.querySelector(n);i.addEventListener("click",function(){var r=document.querySelector(t),n,i;r.select();try{n=document.execCommand("copy");i=n?"successful":"unsuccessful";console.log("Copying text command was "+i)}catch(u){console.log("Oops, unable to copy")}})}function ReplaceSpencail(n){return n.replaceAll(",","^2c")}function ReplaceUnSpencail(n){return n.replaceAll(",","^2c")}function SpencailSubmitForm(){$("form input").each(function(){this.value!=undefined&&this.value!=""&&this.value.toString().indexOf(",")>-1&&(this.value=ReplaceSpencail(this.value))});$("form textarea").each(function(){this.value!=undefined&&this.value!=""&&this.value.toString().indexOf(",")>-1&&(this.value=ReplaceSpencail(this.value))})}function UnSpencailSubmitForm(){$("form input").each(function(){this.value!=undefined&&this.value!=""&&this.value.toString().indexOf(",")>-1&&(this.value=ReplaceUnSpencail(this.value))});$("form textarea").each(function(){this.value!=undefined&&this.value!=""&&this.value.toString().indexOf(",")>-1&&(this.value=ReplaceUnSpencail(this.value))})}function AutoSetValueForReviewForm(n){var t="";$(n).find("input[type=text],input[type=number],input[type=radio]:checked,textarea,select").each(function(){t=$(this).attr("type")=="radio"?$(this).attr("rel"):$(this).is("select")?$(this).find("option:selected").text():$(this).val();t!=""&&$("#spl_"+$(this).attr("name")).text(t)})}function loadEmoticonize(){$(".content_chatmess").each(function(){$(this).html($(this).html()).emoticonize(!0).show()});$("br").remove()}$(function(){paging()});Array.prototype.remove=function(){for(var n,t=arguments,i=t.length,r;i&&this.length;)for(n=t[--i];(r=this.indexOf(n))!==-1;)this.splice(r,1);return this};String.prototype.replaceAll=function(n,t){var i=this;return i.replace(new RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)};